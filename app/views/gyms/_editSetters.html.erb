<table id = "setters" class = "table table-hover">
  <thead class = "thead-dark">
    <tr>
      <th>Name</th>
      <th>Remove</th>
    </tr>
  </thead>

	<tbody>
		<% @gym.routesetters.each do |setter| %>
			<%= content_tag :tr, id: dom_id(setter) do %>
				<td><%= User.find(setter.user_id).email %></td>
				<td><%= link_to 'Remove', routesetter_path(setter), method: :delete, remote: true, data: { confirm: 'Are you sure?' }, class: "btn btn-danger"%></td>
			<% end %>
		<% end %>
	</tbody>
</table>

<div class="collapse" id="addSetter">
  <div class="card card-body" >
    <%= form_with(model: [ @gym, @gym.routesetters.build ], remote: true) do |form| %>
    	<h6>User:</h6>

    	<%= form.collection_select :user_id, User.all, :id, :email, {:include_blank => false}, {} %>
    	<%= form.submit "Add", class: "btn btn-success"%>
    <% end %>
  </div>
</div>

<button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#addSetter" aria-expanded="false" aria-controls="collapseExample">
    <svg class="bi bi-plus" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
      <path fill-rule="evenodd" d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
    </svg>
</button>